<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>테스트</title>
	<link rel="stylesheet" type="text/css" href="lib/base.css">
	<link rel="stylesheet" type="text/css" href="lib/jui.css">

</head>
<body class="jui">
<div id="box" class="group">

</div>

	<script type="text/javascript" src="lib/underscore.js"></script>
	<script type="text/javascript" src="lib/jquery-1.11.2.js"></script>
	<script type="text/javascript" src="lib/backbone.js"></script>
	<script type="text/javascript" src="lib/jui.js"></script>

	<script type="text/javascript">
		var JBF = JBF || {};

		(function($) {
			'use strict';

			JBF.Icon = Backbone.View.extend({
				tagName: 'i'
				, initialize: function(iconName, style) {
					this.iconName = 'icon-'+iconName;
					this.style = style;
				}
				, render: function() {
					this.$el.addClass(this.iconName);
					if (this.style) {
						this.$el.css(this.style);
					}
					return this;
				}
			});
			
			JBF.Button = Backbone.View.extend({
				  tagName: 'a'
				, events: {
					'click' : 'clickHandler'
				}
				, className: 'btn'
				, classList: {
					  'gray' : 'btn btn-gray'
					, 'gray-puple': 'btn btn-gray-purple'
					, 'gray-black': 'btn btn-gray-black'
					, 'purple': 'btn btn-purple'
					, 'purple-gray': 'btn btn-purple-gray'
					, 'purple-black': 'btn btn-purple-black'
					, 'black': 'btn btn-black'
					, 'black-gray': 'btn btn-black-gray'
					, 'black-black': 'btn btn-black-black'
				}
				, initialize: function(container, options, handler) {
					this.text = options.text;

					this.class = this.classList[options.class];
					this.disabled = options.disabled;
					this.rect = options.rect;
					this.setStyle(options.class);
					this.clickHandler = handler;
					this.icon = options.icon;

					this.addTo(container);
				}
				, render: function() {
					if (this.disabled) {
						this.enable();
					}
					if (this.rect) {
						this.setRect();
					}

					this.$el.text(' ' + this.text);

					if (this.icon) {
						this.$el.prepend( (new JBF.Icon("gear")).render().el );
					}
					
					return this;
				}
				, enable: function() {
					this.$el.removeClass('disabled');
				}
				, disable: function() {
					this.$el.addClass('disabled');
				}
				, setRect: function() {
					this.$el.addClass('btn-flat btn-rect');
				}
				, show: function() {
					this.$el.show();
				}
				, hide: function() {
					this.$el.hide();
				}
				, addTo: function(selector) {
					$(this.render().el).appendTo(selector);
				}
				, setStyle: function(style) {
					if ($.isPlainObject(style)) {
						this.$el.css(style);
					} else {
						this.class = this.classList[style];
						this.$el.removeClass();
						this.$el.addClass(this.class);
					}
				}
				, setIcon: function(icon) {

				}
			});

			var testAlert = function() {
				alert('test');
			}


			var testBtn1 = new JBF.Button('#box', {text: 'Close', class: 'gray'});
			var testBtn2 = new JBF.Button('#box', {text: 'Close', class: 'black', icon: 'gear'}, testAlert);

			var testStyle = function() {
				testBtn1.setStyle('purple');	
			}
			
			var testBtn3 = new JBF.Button('#box', {text: 'text', class: 'purple'}, testStyle);
		})(jQuery);
	</script>
</body>
</html>